<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>naes.nekoweb</title>
    <link rel="stylesheet" href="home.css">
</head>

<body>

<div class="parent">

    <div class="header">
        <img src="websiteHeader.png" alt="website header collage">
    </div>

    <div class="navigation">
        <a href="/guestbook.html" class="nav-item">guestbook</a>
    </div>

    <div class="sidebar">
        <div id="created"></div>
        <div id="updated"></div>
        <div id="visitors"></div>
        <img src="robot.png" alt="robot">

        <script>
            let username = "naes";
            (async () => {
              try {
                console.log('fetching data...');
                const request = await fetch(`https://nekoweb.org/api/site/info/${username}`);
                if (!request.ok) {
                  throw new Error(`http error! status: ${request.status}`);
                }
                const json = await request.json();
                console.log('received data:', json);
                
                const formatDate = (dateString) => {
                  const date = new Date(dateString);
                  const month = String(date.getMonth() + 1).padStart(2, '0');
                  const day = String(date.getDate()).padStart(2, '0');
                  const year = String(date.getFullYear()).slice(-2);
                  return `${month}.${day}.${year}`;
                };
        
                const updated = formatDate(json.updated_at);
                const created = formatDate(json.created_at);
        
                if (document.getElementById("created")) document.getElementById("created").innerHTML = `<em>created:</em> <br> ${created}`;
                if (document.getElementById("updated")) document.getElementById("updated").innerHTML = `<em>updated:</em> <br> ${updated}`;
                if (document.getElementById("visitors")) document.getElementById("visitors").innerHTML = `<em>visitors:</em> <br> ${json.views}`;
              } catch (error) {
                console.error('error fetching data:', error);
                document.querySelector('.sidebar').innerHTML += `<div class="error">Error loading data</div>`;
              }
            })();
        </script>
    </div>

    <div class="body">
        <p> hi! i'm nae - a software engineer currently bouncing between texas and california. i've always been passsionate about creating things that make life easier and more enjoyable. when i'm not tinkering with code, you can find me deep in a book, doodling, or lost in music. </p>
        <p> you can find me online at <a href="https://www.bsky.app/naes.tech">bluesky</a> , <a href="https://github.com/naestech"> github</a> , and <a href="https://www.instagram.com/naes.tech/">instagram</a> .</p>
    </div>

    <div class="status">
      <img src="reallyinto.png" alt="getting really into crunchwraps these days">
    </div>
</div>

</body>

</html>